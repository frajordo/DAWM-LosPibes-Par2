
<div class="ie-panel"><a href="http://windows.microsoft.com/en-US/internet-explorer/"><img src="images/ie8-panel/warning_bar_0000_us.jpg" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today."></a></div>
    <div class="page">
      <!----------------content------------>
      <section class="section section-lg position-relative first-section" id="inventario">
        <div class="row">
          <div class="col-2">
          </div>
          <div id="categories">
          </div>
          <div class="col-8 text-center title-list wow fadeInLeft">Vista de Administrador</div>
          
        </div>
        <div class="container">
          <div class="buscador-inventario wow fadeInRight" ><div class="input-group mb-3">
            </div></div>
        </div>

        <!----------------graficas----------->
        <div class="container">
          <h1>Gráficas</h1>
            <div class="lista-articulos" id="botonesGraficas">
                <button id="bar" class="botonLadrillo"  (click)="verGraphEdad()">Edades</button>
                <button id="pie" class="botonLadrillo"  (click)="verGraphGen()">Géneros</button>
                <button id="scatter" class="botonLadrillo"  (click)="verGraphRaz()">Razones</button>
                                              
            </div>
            <div id="graficasCont">
                <app-bar id="barGraph"></app-bar>
                <app-pie id="pieGraph"></app-pie>
                <app-scatter id="scatterGraph"></app-scatter>
            </div>
        </div> 
        
        <div class="container">
          <div class="lista-articulos" id="botonesAdmin">
              <button class="botonLadrillo" style="margin-bottom: 30px;" onclick="mostarusuarios()">Listado de usarios</button>
          
              <div id="userContainer" hidden=true>
                <div class="container">
                  <h2> Usuarios Registrados</h2>
                  <ul class="responsive-table">
                    <li class="table-header">
                      <div class="col col-1">Nombre</div>
                      <div class="col col-2">Email</div>
                      <div class="col col-3">genero</div>
                    </li>
                    
                  </ul>
                </div>
              </div>
              

          </div>
      </div>     

      <!---------------- usuarios odenaador por why----------->
      <div class="container">
        <label for="usersSelect">Filtre los usuarios por Razon Comercial</label> <br>

        <select name="usersByWhy" id="usersSelect" (change)="siftUsers()">
          <option value="" >--Favor escoger una opción--</option>
          <option value="NF">Negocio Familiar</option>
          <option value="NP">Negocio pequeño</option>
          <option value="TC">Tienda clandestina</option>
          <option value="O">Otro</option>
        </select>

        <div id="tableContainer">
          <table class="table">
            <thead class="thead-light">
              <tr>
                <th scope="col">Usuario</th>
                <th scope="col">Edad</th>
                <th scope="col">Email</th>
                <th scope="col">Genero</th>
                <th scope="col">Tipo</th>
              </tr>
            </thead>
            <tbody id="usersByWhyContentTable" #usersByWhyContentTable> 
              <!-- la informacion sera carga al iniciar la pagina  -->
            </tbody>
          </table>
        </div>
      </div> 

      




      </section>
    </div>
    <div class="snackbars" id="form-output-global"></div>
    <script src="js/core.min.js"></script>
    <script src="js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script>
        function verGraph(){
            var graph=document.getElementById("graph");
            if (graph.hasAttribute("hidden")){
                graph.removeAttribute("hidden")
            }else{
                graph.setAttribute("hidden","true")
            }
            
        }


        function mostarusuarios(){

          var table=document.getElementById("userContainer");
            if (table.hasAttribute("hidden")){
              table.removeAttribute("hidden")
            }else{
              table.setAttribute("hidden","true")
            }
            
            fetch(" data/clients.json")
              .then(response => response.json())
              .then(data => {

                var container = document.getElementsByClassName("responsive-table")[0];
                for(let row of data){
                  let userName = row["user"];
                  let email = row["email"];
                  let genero = row["gender"] == "H" ? "HOMBRE": row["gender"] == "M" ? "MUJER" : "NO DEFINIDO" ;
                  container.innerHTML += `
                  <li class="table-row">
                    <div class="col col-1" data-label="username">`+userName+`</div>
                    <div class="col col-2" data-label="email">`+email+`</div>
                    <div class="col col-3" data-label="genero">`+genero+`</div>
                  </li>`

                }
                
    
              })
              .catch(console.error);
    
          }


    </script>
    <!--coded by Drel-->